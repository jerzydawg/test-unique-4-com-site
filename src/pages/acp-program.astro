---
import Layout from '../layouts/Layout.astro';
import AboveFoldCTA from '../components/AboveFoldCTA.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';
import RelatedContent from '../components/RelatedContent.astro';
import ProgramCities from '../components/ProgramCities.astro';
import { getSiteURL, getSiteName, getDomain, getKeywordId, getDesignDNA } from '../lib/site-config';
import { loadKeywordVariations } from '../lib/variations/shared/keyword-loader';

const SITE_URL = getSiteURL();
const SITE_NAME = getSiteName();
const DOMAIN = getDomain();
const keywordId = getKeywordId();
const designDNA = getDesignDNA();

// Load keyword-specific variations with error handling
let h1Content = { h1: 'Affordable Connectivity Program (ACP) Free Phone' };
let metaContent = { 
  title: `Affordable Connectivity Program (ACP) 2025 | Free Internet & Phone Service | ${DOMAIN}`,
  description: 'Access federal Affordable Connectivity Program benefits for discounted internet and phone service. Receive up to $30 monthly savings ($75 on Tribal lands). Verify eligibility online and connect with approved providers instantly.'
};

try {
  const keywordModule = await loadKeywordVariations(keywordId);
  if (keywordModule && typeof keywordModule.getH1Variation === 'function' && typeof keywordModule.getMetaVariations === 'function') {
    try {
      h1Content = keywordModule.getH1Variation(DOMAIN, 'acp');
      metaContent = keywordModule.getMetaVariations(SITE_NAME, DOMAIN, 'acp');
      
      // Validate results
      if (!h1Content || !h1Content.h1) {
        h1Content = { h1: 'Affordable Connectivity Program (ACP) Free Phone' };
      }
      if (!metaContent || !metaContent.title || !metaContent.description) {
        metaContent = { 
          title: `Affordable Connectivity Program (ACP) 2025 | Free Internet & Phone Service | ${DOMAIN}`,
          description: 'Access federal Affordable Connectivity Program benefits for discounted internet and phone service. Receive up to $30 monthly savings ($75 on Tribal lands). Verify eligibility online and connect with approved providers instantly.'
        };
      }
    } catch (variationError: any) {
      console.error('Error calling variation functions:', variationError?.message || variationError);
    }
  }
} catch (e: any) {
  console.error('Failed to load keyword variations for ACP page:', e?.message || e);
  // Use fallback values already set above - page will still render
}

const title = metaContent.title;
const description = metaContent.description;
const canonicalURL = `${SITE_URL}/acp-program/`;

const structuredData = {
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Affordable Connectivity Program (ACP) 2025: Free Internet & Phone Service",
  "description": "Get free or discounted internet and phone service through the Affordable Connectivity Program (ACP) 2025. Up to $30/month discount ($75 on Tribal lands). Check eligibility, apply online, and find providers. No credit check required.",
  "author": {
    "@type": "Organization",
    "name": "Government Phone Service"
  },
  "publisher": {
    "@type": "Organization",
    "name": DOMAIN,
    "url": SITE_URL
  },
  "datePublished": "2025-01-08",
  "dateModified": "2025-01-08",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": `${SITE_URL}/acp-program`
  }
};

const faqData = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What is the Affordable Connectivity Program (ACP)?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The Affordable Connectivity Program (ACP) is a federal benefit that helps low-income households pay for internet and phone service. It provides a monthly discount of up to $30 (or $75 on Tribal lands) to ensure everyone can stay connected."
      }
    },
    {
      "@type": "Question",
      "name": "Who qualifies for ACP benefits?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Households with income at or below 200% of Federal Poverty Guidelines, or those participating in programs like SNAP, Medicaid, WIC, Free/Reduced-Price School Lunch, or Federal Pell Grant qualify for ACP benefits."
      }
    },
    {
      "@type": "Question",
      "name": "Can I get ACP and Lifeline together?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes, eligible households can receive both ACP and Lifeline benefits for maximum savings on internet and phone service."
      }
    },
    {
      "@type": "Question",
      "name": "Is there a credit check for ACP?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "No, there are no credit checks required to qualify for the Affordable Connectivity Program."
      }
    },
    {
      "@type": "Question",
      "name": "How long does ACP approval take?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Most applicants are approved instantly online. If documents are needed, approval may take 1–3 business days."
      }
    }
  ]
};
---

<Layout title={title} description={description} canonicalURL={canonicalURL}>
  <!-- Structured Data for Article -->
  <script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
  <!-- FAQ Schema -->
  <script type="application/ld+json" set:html={JSON.stringify(faqData)} />

  <Breadcrumbs items={[
    { label: 'Home', href: '/' },
    { label: 'Programs', href: '/programs' },
    { label: 'ACP Program', href: '/acp-program' }
  ]} />

  <main class="prose lg:prose-xl mx-auto py-8 px-4">

    <h1 class="text-gray-900 text-4xl font-bold mb-6 ">{h1Content.h1}</h1>

    <!-- CTA Above Fold -->
    <AboveFoldCTA context="acp" />
    
    <div style={`background: ${designDNA.colors.primary}15; border-left: 4px solid ${designDNA.colors.primary}80;`} class="p-4 mb-8 text-gray-900">
      <p style={`color: ${designDNA.colors.primary};`} class="font-medium">
        <strong>Quick Fact:</strong> The ACP provides up to $30/month discount on internet and phone service ($75 on Tribal lands). 
        <a href="/apply" rel="noopener noreferrer" style={`color: ${designDNA.colors.primary};`} class="hover:underline">Verify your eligibility now →</a>
      </p>
    </div>

    <section class="mb-8 text-gray-900">
      <h2 class="text-gray-900 text-2xl font-semibold mb-4 ">What is the Affordable Connectivity Program (ACP)?</h2>
      <p class="text-gray-900 text-lg mb-4 ">
        The <strong>Affordable Connectivity Program (ACP)</strong> is a federal benefit that helps qualifying households pay for internet and phone service. ACP provides a monthly discount of up to $30 (or $75 on Tribal lands) to ensure everyone can maintain connectivity in our digital world.
      </p>
      <p class="text-gray-900">
        The ACP was created to bridge the digital divide and make high-speed internet and phone service accessible to all Americans. It can be combined with the <a href="/lifeline-program" style={`color: ${designDNA.colors.primary};`} class="hover:underline font-semibold">Lifeline Free Government Phone</a> for even greater savings. 
        Compare <a href="/programs" class="text-green-600 hover:underline">all government phone programs</a> to understand which benefits work best for your household, or <a href="/eligibility" style={`color: ${designDNA.colors.primary};`} class="hover:underline">check your eligibility</a> for multiple programs simultaneously.
      </p>
    </section>

    <section class="mb-8 text-gray-900">
      <h2 class="text-gray-900 text-2xl font-semibold mb-4 ">Who Qualifies for ACP Benefits?</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <h3 class="text-gray-900 text-xl font-medium mb-3 ">Income-Based Eligibility</h3>
          <ul class="list-disc list-inside space-y-2 text-gray-900">
            <li>Household income at or below 200% of the Federal Poverty Guidelines</li>
            <li>For a family of 4: $60,000 or less annually</li>
            <li>For a single person: $29,160 or less annually</li>
          </ul>
        </div>
        <div>
          <h3 class="text-gray-900 text-xl font-medium mb-3 ">Program-Based Eligibility</h3>
          <ul class="list-disc list-inside space-y-2 text-gray-900">
            <li>SNAP (Food Stamps)</li>
            <li>Medicaid</li>
            <li>WIC (Women, Infants, and Children)</li>
            <li>Free/Reduced-Price School Lunch Program</li>
            <li>Federal Pell Grant (current award year)</li>
            <li>Tribal-specific programs for those living on Tribal lands</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="mb-8 text-gray-900">
      <h2 class="text-gray-900 text-2xl font-semibold mb-4 ">How to Apply for ACP Benefits</h2>
      <div class="bg-green-50 border border-green-200 rounded-lg p-6 mb-6 text-gray-900">
        <h3 class="text-gray-900 text-xl font-medium text-green-800 mb-4 ">Simple 4-Step Application Process</h3>
        <ol class="list-decimal list-inside space-y-3 text-green-700">
          <li><strong>Check Eligibility:</strong> <a href="/apply" rel="noopener noreferrer" class="text-green-600 hover:underline">Use our eligibility checker</a> to see if you qualify</li>
          <li><strong>Gather Documents:</strong> Proof of income or program participation</li>
          <li><strong>Choose Provider:</strong> <a href="/providers" class="text-green-600 hover:underline">Find ACP providers</a> in your area</li>
          <li><strong>Apply Online:</strong> Complete application through your chosen provider</li>
        </ol>
      </div>
      <p class="text-gray-900">
        <strong>Ready to apply?</strong> Most applications are approved instantly online. No credit checks or hidden fees!
      </p>
    </section>

    <section class="mb-8 text-gray-900">
      <h2 class="text-gray-900 text-2xl font-semibold mb-4 ">ACP Benefits & Savings</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div style={`background: ${designDNA.colors.primary}15;`} class="p-6 rounded-lg">
          <h3 class="text-gray-900 text-xl font-medium mb-3" style={`color: ${designDNA.colors.primary};`}>Monthly Savings</h3>
          <ul class="space-y-2" style={`color: ${designDNA.colors.primary}CC;`}>
            <li>• Up to $30/month discount on internet service</li>
            <li>• Up to $75/month on Tribal lands</li>
            <li>• One-time $100 discount on devices</li>
            <li>• Can be combined with Lifeline benefits</li>
          </ul>
        </div>
        <div class="bg-green-50 p-6 rounded-lg">
          <h3 class="text-gray-900 text-xl font-medium text-green-800 mb-3 ">Additional Benefits</h3>
          <ul class="space-y-2 text-green-700">
            <li>• Access to online education and telehealth</li>
            <li>• Job search and remote work opportunities</li>
            <li>• Stay connected with family and emergency services</li>
            <li>• No contracts or credit checks required</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="mb-8 text-gray-900">
      <h2 class="text-gray-900 text-2xl font-semibold mb-4 ">Frequently Asked Questions</h2>
      <div class="space-y-4">
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-gray-900 text-xl font-medium mb-3 ">Can I get ACP and Lifeline together?</h3>
          <p class="text-gray-900">Yes, eligible households can receive both ACP and Lifeline benefits for maximum savings. This can provide up to $34.25/month in combined discounts on your phone and internet service.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-gray-900 text-xl font-medium mb-3 ">Is there a credit check for ACP?</h3>
          <p class="text-gray-900">No, there are no credit checks required to qualify for the Affordable Connectivity Program. Your eligibility is based on income or participation in qualifying government programs.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-gray-900 text-xl font-medium mb-3 ">How long does ACP approval take?</h3>
          <p class="text-gray-900">Most applicants are approved instantly when applying online. If additional documents are needed for verification, approval may take 1–3 business days.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-gray-900 text-xl font-medium mb-3 ">What documents do I need to apply?</h3>
          <p class="text-gray-900">You'll need proof of income (pay stubs, tax returns) or proof of participation in qualifying programs (benefit letters, award letters). Your chosen provider will guide you through the specific requirements.</p>
        </div>
        
        <div class="border border-gray-200 rounded-lg p-6">
          <h3 class="text-gray-900 text-xl font-medium mb-3 ">Can I keep my current provider?</h3>
          <p class="text-gray-900">Yes, if your current internet or phone provider participates in the ACP program. Check with your provider or use our <a href="/providers" style={`color: ${designDNA.colors.primary};`} class="hover:underline">provider finder</a> to see available options in your area.</p>
        </div>
      </div>
    </section>

    <section style={`background: linear-gradient(135deg, ${designDNA.colors.primary}, ${designDNA.colors.secondary});`} class="text-white p-6 rounded-lg mb-8 text-gray-900">
      <h2 class="text-gray-900 text-2xl font-bold mb-4 ">Ready to Get Connected?</h2>
      <p class="text-gray-900 text-lg mb-6 ">Join millions of Americans who are already saving on their internet and phone service through the ACP program.</p>
      <div class="flex justify-center">
        <a href="/apply" rel="noopener noreferrer" class="inline-block py-4 px-10 text-lg font-bold rounded-xl shadow-lg hover:shadow-2xl transform hover:scale-105 active:scale-95 transition-all duration-300 no-underline text-center" style={`background: linear-gradient(135deg, ${designDNA.colors.accent} 0%, ${designDNA.colors.accentDark || designDNA.colors.accent} 100%); color: white;`}>
          Check Your Eligibility
        </a>
        <a href="/providers" style={`border-color: white;`} class="bg-transparent border-2 hover:bg-white text-white font-bold py-4 px-8 rounded-lg text-lg transition duration-300 no-underline text-center" onmouseover={`this.style.color='${designDNA.colors.primary}';`} onmouseout="this.style.color='white';">
          Find Providers
        </a>
      </div>
    </section>

    <!-- Program Cities Section -->
    <ProgramCities program="acp" />

    <!-- Related Content Section -->
    <RelatedContent currentPage="program" />

    <div class="bg-gray-50 p-6 rounded-lg mb-8 text-gray-900">
      <p class="text-gray-900 mb-4 ">
        <strong>Need help?</strong> Visit our <a href="/faq" style={`color: ${designDNA.colors.primary};`} class="hover:underline">FAQ page</a> for more answers, or <a href="/contact" style={`color: ${designDNA.colors.primary};`} class="hover:underline">contact us</a> for personalized assistance. 
        The ACP program is here to help you stay connected!
      </p>
    </div>

    <!-- Related Programs Section -->
    <section class="bg-white border-t border-gray-200 py-8">
      <div class="container mx-auto px-4">
        <h2 class="text-gray-900 text-3xl font-bold text-center mb-8 ">Related Programs & Resources</h2>
        <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
          <a href="/lifeline-program" style={`background: ${designDNA.colors.primary}15;`} class="rounded-lg p-6 transition-colors" onmouseover={`this.style.background='${designDNA.colors.primary}25';`} onmouseout={`this.style.background='${designDNA.colors.primary}15';`}>
            <h3 class="text-gray-900 text-lg font-bold mb-2" style={`color: ${designDNA.colors.primary};`}>Lifeline Program</h3>
            <p class="text-gray-900 text-sm ">Learn about the federal Lifeline program and how it can be combined with ACP for maximum savings.</p>
          </a>
          <a href="/programs" class="bg-green-50 rounded-lg p-6 hover:bg-green-100 transition-colors">
            <h3 class="text-gray-900 text-lg font-bold text-green-600 mb-2 ">All Programs</h3>
            <p class="text-gray-900 text-sm ">Compare all available government phone and internet assistance programs in one place.</p>
          </a>
          <a href="/eligibility" class="bg-purple-50 rounded-lg p-6 hover:bg-purple-100 transition-colors">
            <h3 class="text-gray-900 text-lg font-bold text-purple-600 mb-2 ">Check Eligibility</h3>
            <p class="text-gray-900 text-sm ">Quickly check if you qualify for ACP and other government assistance programs.</p>
          </a>
        </div>
      </div>
    </section>
  </main>
</Layout>
